- if can?(:edit, @company)
  - content_for :content_div_class, 'col-2'
- else
  - content_for :content_div_class, 'col-1'

- content_for :content do
  - if can?(:edit, @company)
    #col-a
      .sidebar-nav
        = nav_for :companies, include_arrow: true do |menu|
          = menu.nav_link :identity,      edit_company_path(@company, section: :identity)
          = menu.nav_link :service,       edit_company_path(@company, section: :service)
          = menu.nav_link :credentials,   edit_company_path(@company, section: :credentials)
          -# = menu.nav_link :alerts,        company_alerts_path(@company), proc { controller.controller_name == 'alerts' }, class: :disabled
          = menu.nav_link :discounts,     company_discounts_path(@company), proc { controller.controller_name == 'discounts' }
          = menu.nav_link :users,         company_users_path(@company), proc { controller.controller_name == 'users' }

      - if session[:enable_test_features]
        .activation_status{class: @company.active? ? :active : :inactive}
          - if @company.active
            %h4= t('companies.activation.header.active')

          - else
            %h4= t('companies.activation.header.not_active')
            %ul
              - @company.activation_status.each do |method, state|
                %li.criteria{class: state ? 'satisfied' : 'incomplete'}
                  = t("companies.activation.criteria.#{method}")

    #col-b
      = yield

  - else
    #col
      = yield

= render template: 'layouts/application'
